/******************
@copyright
rakeshkaswan8356@gmail.com
owstudy.in
Rakesh Kaswan
*******************/
(function(e){var t=function(t,n){this.table=t;this.options=e.extend({},e.fn.rkMagicTable.DEFAULT_OPTIONS,n);this._init()};t.prototype={constructor:t,_init:function(){var t=this.options;var n=this.table;delete this.table;var r=new Object;r=this.options.data;r.thead=new Object;r.tbody=new Object;r.tfoot=new Object;var i=0;e("thead tr",n).each(function(){var t=0;r["thead"][i]=new Object;e(this).children().each(function(){r["thead"][i][t]=e(this).html();t++});i++});i=0;e("tbody tr",n).each(function(){var n=0;r["tbody"][i]=new Object;e(this).children().each(function(){var s=e(this).find("."+t.cellDataClass);r["tbody"][i][n]=s.length==1?s.text():e(this).html();n++});i++});var i=0;e("tfoot tr",n).each(function(){var t=0;r["tfoot"][i]=new Object;e(this).children().each(function(){r["tfoot"][i][t]=e(this).html();t++});i++});if(t.rowRepeat){e("tbody tr:last",n).each(function(){e(this).attr("data-row-number",t.rowRepeatTrSequenceStart);e('input:not([type="submit"]),select,textarea',e(this)).each(function(){var n=e(this).attr("name");var r=e(this).attr("type");e(this).attr("name",n+"["+t.rowRepeatTrSequenceStart+"]"+(r=="checkbox"?"[]":""));e(this).attr("id",n+"_"+t.rowRepeatTrSequenceStart)})});n.addClass(t.tableClass).on("click","."+t.rowRepeatClass,function(){if(t.rowRepeatTrSequenceStart==t.rowRepeatTrSequenceEnd-1){return false}else{t.rowRepeatTrSequenceStart++}var r=e("tbody tr:last",n);var i=r.clone();e(i).attr("data-row-number",t.rowRepeatTrSequenceStart);e('input:not([type="submit"]),select,textarea',i).each(function(){var n=e(this).attr("name").split("[");var r=e(this).attr("type");e(this).attr("name",n[0]+"["+t.rowRepeatTrSequenceStart+"]"+(r=="checkbox"?"[]":""));e(this).attr("id",n[0]+"_"+t.rowRepeatTrSequenceStart)});e('input:not([type="radio"],[type="checkbox"],[type="submit"]),textarea',i).val("");e('input[type="radio"],input[type="checkbox"]',i).prop("checked",false);e("select option:first",i).prop("selected",true);var s=e("."+t.rowRepeatClass,r);if(s.length==1){s.removeClass(t.rowRepeatClass+" "+t.rowRepeatButtonClass).addClass(t.rowRemoveClass+" "+t.rowRemoveButtonClass).html(t.rowRepeatButtonText)}else{e("caption a."+t.rowRemoveClass,n).remove();e("caption",n).append('<a class="'+t.rowRemoveClass+" "+t.rowRemoveButtonClass+'">'+t.rowRepeatButtonText+"</a>")}e("tbody",n).append(i)}).on("click","."+t.rowRemoveClass,function(){if(e("caption a."+t.rowRemoveClass,n).length>0){var r=e("tbody tr",n).length;if(r>1){e("tbody tr:last",n).remove();if(r==2){e(this).remove()}}}else{e(this).closest("tr").remove()}t.rowRepeatTrSequenceStart--})}},_data:function(){console.log("I am herer");console.log(this.options.data);console.log("I am herer")}};e.fn.rkMagicTable=function(n){var r=arguments;var i=e(this).selector;var s=i[0]==="#";if(s){var o=e(this)[0].nodeName==="TABLE";if(o){options="object"===typeof n&&n;var u=new Object;u=new t(e(this),n);return u}else{console.log("RK MAGIC TABLE: Invalid Element only Applicable to Table")}}else{console.log("RK MAGIC TABLE: Invalid Selector only Applicable for ID of Table")}};e.fn.rkMagicTable.DEFAULT_OPTIONS={data:{},highlightRow:false,highlightRowClass:"",rowRepeat:false,rowRepeatClass:"magic-table-add-row",rowRepeatButtonClass:"btn btn-success",rowRepeatButtonText:'<i class="glyphicon glyphicon-plus"></i>',rowRemoveClass:"magic-table-remove-row",rowRemoveButtonClass:"btn btn-danger",rowRepeatButtonText:'<i class="glyphicon glyphicon-remove"></i>',rowRepeatInputIdPrefix:"magic-table_",rowRepeatSequenceStart:0,rowRepeatTrSequenceStart:0,rowRepeatTrSequenceEnd:10,tableCaptionText:false,tableCaptionText:"RK Magic Table Demo",tableClass:"magic-table",cellDataClass:"cell-data"}})(window.jQuery);
